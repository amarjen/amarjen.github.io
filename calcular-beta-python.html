<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Calcular la beta de una acción con python - Antonio Martínez</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="http://amarjen.github.io/images/favicon.png" rel="icon">


    <!-- Open Graph tags -->
        <meta property="og:site_name" content="Antonio Martínez" />
            <meta property="og:type" content="article"/>
            <meta property="og:title" content="Calcular la beta de una acción con python"/>
            <meta property="og:url" content="http://amarjen.github.io/calcular-beta-python.html"/>
            <meta property="og:description" content="Según el modelo CAPM, la beta representa el riesgo sistémico de un activo, es decir, aquel que no puede reducirse diversificando. Mide la sensibilidad de la rentabilidad de un activo con la rentabilidad del mercado. Por ejemplo, si una acción tuviera una beta de 2, significaria que la rentabilidad de ..."/>
            <meta property="article:published_time" content="2012-11-11" />
                <meta property="article:section" content="Python" />
                <meta property="article:tag" content="beta" />
                <meta property="article:tag" content="matplotlib" />
                <meta property="article:tag" content="python" />
                <meta property="article:tag" content="scipy" />
                <meta property="article:author" content="amarjen" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://amarjen.github.io/theme/css/bootstrap.readable-old.min.css" type="text/css"/>
    <link href="http://amarjen.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://amarjen.github.io/theme/css/pygments/monokai.css" rel="stylesheet">
    <link rel="stylesheet" href="http://amarjen.github.io/theme/css/style.css" type="text/css"/>
        <link href="http://amarjen.github.io/static/css/custom.css" rel="stylesheet">


</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://amarjen.github.io/" class="navbar-brand">
Antonio Martínez            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="http://amarjen.github.io/category/contabilidad.html">Contabilidad</a>
                        </li>
                        <li >
                            <a href="http://amarjen.github.io/category/estrategia.html">Estrategia</a>
                        </li>
                        <li >
                            <a href="http://amarjen.github.io/category/linux.html">Linux</a>
                        </li>
                        <li class="active">
                            <a href="http://amarjen.github.io/category/python.html">Python</a>
                        </li>
                        <li >
                            <a href="http://amarjen.github.io/category/uned.html">Uned</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://amarjen.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <ol class="breadcrumb">
                <li><a href="http://amarjen.github.io" title="Antonio Martínez"><i class="fa fa-home fa-lg"></i></a></li>
                <li><a href="http://amarjen.github.io/category/python.html" title="Python">Python</a></li>
                <li class="active">Calcular la beta de una acción con python</li>
            </ol>

    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://amarjen.github.io/calcular-beta-python.html"
                       rel="bookmark"
                       title="Permalink to Calcular la beta de una acción con python">
                        Calcular la beta de una acción con python
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2012-11-11T23:17:00"> dom 11 noviembre 2012</time>
    </span>



<span class="label label-default">Tags</span>
	<a href="http://amarjen.github.io/tag/beta.html">beta</a>
        /
	<a href="http://amarjen.github.io/tag/matplotlib.html">matplotlib</a>
        /
	<a href="http://amarjen.github.io/tag/python.html">python</a>
        /
	<a href="http://amarjen.github.io/tag/scipy.html">scipy</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Según el modelo
<a class="reference external" href="http://es.wikipedia.org/wiki/Modelo_de_valoraci%C3%B3n_de_activos_financieros">CAPM</a>,
la beta representa el riesgo sistémico de un activo, es decir, aquel que
no puede reducirse diversificando. Mide la sensibilidad de la
rentabilidad de un activo con la rentabilidad del mercado. Por ejemplo,
si una acción tuviera una beta de 2, significaria que la rentabilidad de
dicha acción es &quot;de media&quot; el doble que la rentabilidad del mercado
(tanto en sentido positivo como negativo).</p>
<p>Gráficamente corresponde a la pendiente de la linea de regresión
calculada entre las rentabilidades de dicha acción con las
rentabilidades de un índice de referencia, por ejemplo, el IBEX35 o el
S&amp;P500 para una acción americana.</p>
<p>La linea de regresión entre las rentabilidades (<a class="reference external" href="http://en.wikipedia.org/wiki/Security_characteristic_line">Security characteriric
line</a>)
esta definida por:</p>
<p>$$r_i = \alpha_i + \beta_i\cdot r_m + \epsilon_i$$</p>
<p>En python podemos estimar fácilmente una linea de regresión con el
método <em>linregress</em> del paquete <em>scipy.stats</em> e ilustrarla en un bonito
gráfico con <em>matplolib.</em> Por ejemplo, la beta calculada con datos
diarios de AIG en 2011 fue de 1.61</p>
<p><img alt="image0" src="images/trading/beta.png" /></p>
<div class="highlight"><pre><span class="kn">import</span> <span class="nn">datetime</span> <span class="kn">as</span> <span class="nn">dt</span>
<span class="kn">from</span> <span class="nn">pandas.io.data</span> <span class="kn">import</span> <span class="n">DataReader</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="kn">as</span> <span class="nn">stats</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="c"># Descarga datos de ejemplo</span>
<span class="n">AIG</span> <span class="o">=</span> <span class="n">DataReader</span><span class="p">(</span><span class="s">&#39;AIG&#39;</span><span class="p">,</span> <span class="s">&#39;yahoo&#39;</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">31</span><span class="p">))</span>
<span class="n">SP500</span> <span class="o">=</span> <span class="n">DataReader</span><span class="p">(</span><span class="s">&#39;^GSPC&#39;</span><span class="p">,</span> <span class="s">&#39;yahoo&#39;</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">31</span><span class="p">))</span>

<span class="c"># Calcula las rentabilidades diarias</span>
<span class="n">AIG</span><span class="p">[</span><span class="s">&#39;ret&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">AIG</span><span class="p">[</span><span class="s">&#39;Adj Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span>
<span class="n">SP500</span><span class="p">[</span><span class="s">&#39;ret&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SP500</span><span class="p">[</span><span class="s">&#39;Adj Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span>

<span class="c"># Calcula los coeficientes de la regresión</span>
<span class="p">(</span><span class="n">BETA</span><span class="p">,</span> <span class="n">ALPHA</span><span class="p">,</span> <span class="n">R</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="n">SE</span><span class="p">)</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">linregress</span><span class="p">(</span><span class="n">SP500</span><span class="o">.</span><span class="n">ret</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span>
<span class="n">AIG</span><span class="o">.</span><span class="n">ret</span><span class="o">.</span><span class="n">dropna</span><span class="p">())</span>

<span class="c"># Informe de la regresión</span>
<span class="k">print</span> <span class="s">&#39;Beta: </span><span class="si">%4.2f</span><span class="se">\n</span><span class="s">R2: </span><span class="si">%4.2f</span><span class="s">&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">BETA</span><span class="p">,</span> <span class="n">R</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

<span class="c"># Gráfico de regresión</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">SP500</span><span class="o">.</span><span class="n">ret</span><span class="p">,</span> <span class="n">AIG</span><span class="o">.</span><span class="n">ret</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">SP500</span><span class="o">.</span><span class="n">ret</span><span class="p">,</span> <span class="n">ALPHA</span> <span class="o">+</span> <span class="n">BETA</span> \<span class="o">*</span> <span class="n">SP500</span><span class="o">.</span><span class="n">ret</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;r&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">ls</span> <span class="o">=</span> <span class="s">&#39;:&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;0.2&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">ls</span> <span class="o">=</span> <span class="s">&#39;:&#39;</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s">&#39;0.2&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Rentabilidades diarias 2011&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;SP500&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;AIG&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<script type= "text/javascript">
    if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
        var mathjaxscript = document.createElement('script');
        mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
        mathjaxscript.type = 'text/javascript';
        mathjaxscript.src = 'https:' == document.location.protocol
                ? 'https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
                : 'http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
        mathjaxscript[(window.opera ? "innerHTML" : "text")] =
            "MathJax.Hub.Config({" +
            "    config: ['MMLorHTML.js']," +
            "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
            "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
            "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
            "    displayAlign: 'center'," +
            "    displayIndent: '0em'," +
            "    showMathMenu: true," +
            "    tex2jax: { " +
            "        inlineMath: [ ['$','$'] ], " +
            "        displayMath: [ ['$$','$$'] ]," +
            "        processEscapes: true," +
            "        preview: 'TeX'," +
            "    }, " +
            "    'HTML-CSS': { " +
            "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
            "    } " +
            "}); ";
        (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
    }
</script>

            </div>
            <!-- /.entry-content -->
    <hr />
    <!-- AddThis Button BEGIN -->
    <div class="addthis_toolbox addthis_default_style">
            <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
            <a class="addthis_button_tweet"></a>
            <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
    </div>
        <script type="text/javascript">var addthis_config = {"data_track_addressbar": true};</script>
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-53d12d192d2dbad"></script>
    <!-- AddThis Button END -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'amarjen'; // required: replace example with your forum shortname

                    var disqus_identifier = 'calcular-beta-python';
                var disqus_url = 'http://amarjen.github.io/calcular-beta-python.html';

            var disqus_config = function () {
                this.language = "es";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3 well well-sm" id="sidebar">

<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
                  <ul class="list-group" id="social">
                    <li class="list-group-item"><a href="http://twitter.com/ccee_uned"><i class="fa fa-twitter-square fa-lg"></i> twitter</a></li>
                    <li class="list-group-item"><a href="http://es.linkedin.com/in/amarjen/"><i class="fa fa-linkedin-square fa-lg"></i> linkedin</a></li>
                  </ul>
                </li>



                <li class="list-group-item"><a href="http://amarjen.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                    <ul class="list-group list-inline tagcloud" id="tags">
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/beta.html">
                                beta
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/conocimiento.html">
                                conocimiento
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/consolidacion.html">
                                consolidación
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="http://amarjen.github.io/tag/contabilidad.html">
                                contabilidad
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/crecimiento.html">
                                crecimiento
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/diversificacion.html">
                                diversificacion
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="http://amarjen.github.io/tag/estrategia.html">
                                estrategia
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/gnome.html">
                                gnome
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/gobierno-corporativo.html">
                                gobierno corporativo
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/internacionalizacion.html">
                                internacionalizacion
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/linux.html">
                                linux
                            </a>
                        </li>
                        <li class="list-group-item tag-1">
                            <a href="http://amarjen.github.io/tag/matplotlib.html">
                                matplotlib
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="http://amarjen.github.io/tag/pandas.html">
                                pandas
                            </a>
                        </li>
                        <li class="list-group-item tag-2">
                            <a href="http://amarjen.github.io/tag/python.html">
                                python
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/r.html">
                                R
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/scipy.html">
                                scipy
                            </a>
                        </li>
                        <li class="list-group-item tag-4">
                            <a href="http://amarjen.github.io/tag/teoria-de-carteras.html">
                                teoria de carteras
                            </a>
                        </li>
                    </ul>
                </li>    
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://cienciasempresariales.info/" target="_blank">
                Ciencias Empresariales
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.uned.es/" target="_blank">
                Uned
            </a>
        </li>
      </ul>
    </li>

        </ul>
    </section>

</aside>        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2014 Antonio Martínez
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>  <a rel="license" href="http://creativecommons.org/licenses/by-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nd/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nd/4.0/">Creative Commons Attribution 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://amarjen.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://amarjen.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://amarjen.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'amarjen'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
</body>
</html>